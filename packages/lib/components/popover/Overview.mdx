import { Canvas, Meta, Source, Subtitle, Title } from "@storybook/blocks";

import * as stories from "./popover.stories";

<Meta of={stories} />

<Title />
<Subtitle>
  A dropdown presents a list of options the user can select from and can be used to submit data,
  filter, in a menu and so on. 
</Subtitle>

## How to get started
Start by importing the component. If you import the web component version, both the `<cx-dropdown>` component and `<cx-option>` is available for use
from the point of the import and further down the application-tree.
<Source
  code={`
// Web component
import '@computas/designsystem/dropdown';

// React
import { CxDropdown, CxOption } from '@computas/designsystem/dropdown/react';
`}
language="typescript"
dark
/>

## Browser support
The popover component uses the new [Anchor Position API](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_anchor_positioning/Using)
to position the popover relative to the trigger. This API is not supported in Safari and Firefox as writing these docs. If you want to support
all major browsers, please include the official anchor position API polyfill in the `<head>` of your application:
``` html
<script type="module">
  if (!("anchorName" in document.documentElement.style)) {
    import("https://unpkg.com/@oddbird/css-anchor-positioning");
  }
</script>
```
Read more about this polyfill [here](https://github.com/oddbird/css-anchor-positioning).

## Default
The default dropdown is an `cx-dropdown` component with a set of `cx-option` child components. Each `cx-option` needs a `value` that contains the
value of the option. If the user selects an option, a `change` event is emitted, containing the selected value (if you use React, the event name is `onChange`).
<Canvas of={stories.Default} />

## With header
Add a `header` attribute to the `cx-popover` to display a header to the popover.
<Canvas of={stories.WithHeader} />

## With close button
Add the `withCloseBtn` attribute to display a close button in the popover.
<Canvas of={stories.WithCloseBtn} />
